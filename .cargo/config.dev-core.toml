# Cargo config for dev-core mode (local forge-core development)
# Generated by: make dev-core
# To disable: make dev-core-off

# =============================================================================
# Platform Settings (same as config.base.toml)
# =============================================================================

[target.x86_64-apple-darwin.env]
MACOSX_DEPLOYMENT_TARGET = "10.12"

[target.aarch64-apple-darwin.env]
MACOSX_DEPLOYMENT_TARGET = "11.0"

[target.x86_64-pc-windows-msvc]
rustflags = ["-C", "link-arg=/DEBUG:FASTLINK"]

[target.aarch64-pc-windows-msvc]
rustflags = ["-C", "link-arg=/DEBUG:FASTLINK"]

[target.aarch64-linux-android]
rustflags = ["-C", "link-arg=-Wl,-z,max-page-size=16384"]

# =============================================================================
# Forge-Core Local Development (Path Override)
# =============================================================================
# This patches git dependencies to use local forge-core directory
# Hot reload will pick up changes from ./forge-core/

[patch."https://github.com/namastexlabs/forge-core.git"]
db = { path = "forge-core/crates/db" }
services = { path = "forge-core/crates/services" }
server = { path = "forge-core/crates/server" }
deployment = { path = "forge-core/crates/deployment" }
local-deployment = { path = "forge-core/crates/local-deployment" }
executors = { path = "forge-core/crates/executors" }
utils = { path = "forge-core/crates/utils" }
