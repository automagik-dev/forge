[package]
name = "forge-app"
version = "0.1.0"
edition = "2021"

[[bin]]
name = "forge-server"
path = "src/main.rs"

[dependencies]
# Upstream dependencies (using the submodule)
server = { path = "../upstream/crates/server" }
db = { path = "../upstream/crates/db" }
services = { path = "../upstream/crates/services" }
executors = { path = "../upstream/crates/executors" }

# Forge extensions
forge-omni = { path = "../forge-extensions/omni" }
forge-branch-templates = { path = "../forge-extensions/branch-templates" }
forge-config = { path = "../forge-extensions/config" }

# Workspace dependencies
tokio = { workspace = true }
axum = { workspace = true }
tower-http = { workspace = true }
serde = { workspace = true }
serde_json = { workspace = true }
anyhow = { workspace = true }
tracing = { workspace = true }

# Additional dependencies
sqlx = { version = "0.7", features = ["runtime-tokio-native-tls", "sqlite", "migrate"] }
uuid = { version = "1.0", features = ["v4", "serde"] }
rust-embed = { version = "8.0", features = ["interpolate-folder-path"] }