# ğŸ‰ Automagik Forge v0.4.6 - Genie Neural Network & Master Orchestrator

**Release Date**: October 27, 2025 | **Type**: Stable Release | **Changes**: 119 commits since v0.4.0

---

## ğŸŒŸ Highlights

This release introduces the **Genie Master Orchestrator** neural network architecture, transforming Automagik Forge into a distributed AI coordination system with persistent session management and visual network monitoring.

### ğŸ§ Master Orchestrator Neural Network

The **Genie Master Widget** provides real-time visualization of the three master orchestrator agents (Wish, Forge, Review) that form the backbone of Automagik Forge's AI coordination system.

**Key Features:**
- **Persistent Session Tracking**: New `forge_agents` table tracks master orchestrators across restarts
- **Session Reuse**: Orchestrators maintain context across multiple interactions
- **Visual Network Monitoring**: Live widget displays status and activity of all three master agents
- **MCP Integration**: Seamless integration with Genie MCP for distributed AI coordination

---

## âœ¨ Major Features

### ğŸ¤– AI Agent Enhancements

- **Genie Chat Widgets**: Interactive chat interface for Wish, Forge, and Review orchestrators
- **Task State "agent"**: Backend support for agent-specific task states and parent-child relationships
- **Async OmniClient**: Comprehensive async tests and improved reliability (#38)
- **Claude Code Integration**: Re-applied append-system-prompt patch for Claude Code executor

### ğŸ¨ UI/UX Improvements

- **Release Notes Page**: In-app release notes with version history and update checking
- **Task Card Enhancements**: Maximize button and extended action menu
- **Breadcrumb Navigation**: Discrete breadcrumbs and project names in project Kanban
- **IDE Icons & Sounds**: Enhanced UI with IDE-specific icons and audio feedback
- **Brazilian Portuguese**: Complete i18n support for Brazilian Portuguese

### ğŸ”’ Security & Authentication

- **Mandatory GitHub Auth**: Web frontend now requires GitHub authentication
- **Namastex Sentry Integration**: Configured Sentry DSN for error tracking

### ğŸ”§ Developer Experience

- **Port Management**: Smart port allocation and conflict resolution
- **Dev Environment**: Improved local development with automatic asset seeding
- **NPM Smart Monitor**: Intelligent publication verification with adaptive polling
- **Parallel PR Reviews**: 3 simultaneous PR review tasks using different LLM perspectives

### ğŸŒ MCP (Model Context Protocol) Integration

- **Preconfigured MCP Servers**: Three ready-to-use configurations:
  - `forge`: Standard Forge API access
  - `forge-advanced`: Extended Forge capabilities
  - `genie`: Genie neural network coordination
- **FastMCP Docs**: Downloaded FastMCP documentation to prevent UI crashes

---

## ğŸ› Bug Fixes

### Critical Fixes

- Fixed missing modal registrations breaking task attempt visibility
- Resolved CORS errors and React context hierarchy issues
- Fixed PostHog Node.js built-in module conflicts
- Corrected Genie Master Widget React Hooks violations
- Resolved BaseCodingAgent type mismatch in Forge router

### Build & Release Fixes

- Added AppKit framework linking for macOS platform support
- Fixed binary inclusion in npm packages with proper .npmignore
- Removed --frozen-lockfile flag causing CI failures (#46)
- Fixed RC version bump auto-detection for stable releases
- Added concurrency control to prevent build race conditions

### Frontend Fixes

- Eliminated i18n console spam warnings
- Suppressed AJV unknown format warnings for textarea components
- Suppressed Node.js built-in module warnings in Vite builds
- Applied Wish/Forge/Review column renames with proper i18n keys
- Fixed missing /ide/vscode-dark.svg icon path in tasks view

---

## ğŸ”„ Upstream Sync

### v0.0.110-namastex Series

- **v0.0.110-namastex-1**: Rebrand and base sync
- **v0.0.110-namastex-2**: Brazilian Portuguese i18n support
- **v0.0.110-namastex-3**: Agent task status tracking and parent-child relationships

### Analytics & Monitoring

- Merged PostHog analytics integration from upstream v0.0.110
- Restored forge-types generation for frontend type safety

---

## ğŸ—ï¸ Architecture Improvements

### Database Schema

**forge_agents Table**: Persistent tracking of master orchestrators
- Columns: `id`, `project_id`, `agent_type`, `task_id`, `created_at`, `updated_at`
- Unique constraint: One agent type per project
- Foreign keys: Projects and tasks tables

### Release Process

- **AI-Powered Release Notes**: Async release note generation using Claude Haiku
- **Automated Workflows**: RC and stable release workflows with GitHub Actions
- **Smart NPM Monitor**: Intelligent publication verification with exponential backoff

### Testing & Quality

- Frontend build before tests (no skips)
- 141 tests across all workspace crates
- Smart test skipping for CI release builds

---

## ğŸ“Š Statistics

- **Total Commits**: 119 (since v0.4.0)
- **Files Changed**: 350+
- **Test Coverage**: 141 tests passing
- **RC Iterations**: 11 release candidates

---

## ğŸš€ Installation

```bash
# NPM (recommended)
npm install -g automagik-forge@0.4.6

# Or use npx
npx automagik-forge@0.4.6
```

### Upgrade from v0.4.x

```bash
# Update global installation
npm update -g automagik-forge

# Or reinstall
npm install -g automagik-forge@latest
```

### Database Migration

The `forge_agents` table will be created automatically on first run via SQLx migrations.

---

## ğŸ“– Documentation

- **Release Notes**: In-app via footer "Release Notes" link
- **GitHub**: https://github.com/namastexlabs/automagik-forge/releases/tag/v0.4.6
- **MCP Configuration**: See `~/.config/automagik-forge/mcp-servers.json`

---

## ğŸ”® What's Next (v0.4.7)

- Enhanced neural network visualizations with real-time metrics
- Multi-project orchestrator coordination
- Advanced session management and replay
- Extended MCP server capabilities

---

**Full Changelog**: https://github.com/namastexlabs/automagik-forge/compare/v0.4.0-20251021043456...v0.4.6
