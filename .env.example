# Automagik Forge Environment Variables
# Copy this file to .env and customize as needed

# ============================================================================
# Server Configuration
# ============================================================================

# Host address for the server to bind to
# Default: 127.0.0.1 (localhost only)
HOST=127.0.0.1

# Backend server port
# Default: 8887
# Priority: --port flag > BACKEND_PORT > PORT > 8887
# You can also use: forge --port 9000 or forge -p 9000
BACKEND_PORT=8887

# Alternative port variable (fallback if BACKEND_PORT not set)
# PORT=8887

# Public base URL for external access
# Used by Omni notifications to generate clickable links
# Default: http://localhost:8887 (npx single-port default)
# Set this if you access Forge via:
#   - Cloudflare tunnel: PUBLIC_BASE_URL=https://tunnel.example.com
#   - ngrok: PUBLIC_BASE_URL=https://abc123.ngrok.io
#   - Custom domain: PUBLIC_BASE_URL=https://forge.company.com
#   - Development with frontend: PUBLIC_BASE_URL=http://localhost:8888
# PUBLIC_BASE_URL=https://forge.yourdomain.com

# Disable automatic browser opening on server start
# Useful for headless servers or remote deployments
# Set to any value to disable (presence of variable = disabled)
# DISABLE_BROWSER_OPEN=true

# ============================================================================
# Database Configuration
# ============================================================================

# Custom database URL (SQLite)
# Default: Uses app's default data directory
# Override for custom database location:
# DATABASE_URL=sqlite:/path/to/custom/database.db

# ============================================================================
# Development & Debugging
# ============================================================================

# Rust logging level
# Default: info
# Options: trace, debug, info, warn, error
#RUST_LOG=info

# SQLx compilation mode
# Default: true (set automatically by dev/build scripts)
# Set to false only when developing database schema (requires live database)
# Note: Build scripts automatically set this to true for reproducible builds
# SQLX_OFFLINE=true

# Disable automatic cleanup of orphaned git worktrees
# Useful for debugging worktree-related issues
# Set to any value to disable cleanup
# DISABLE_WORKTREE_ORPHAN_CLEANUP=1

# ============================================================================
# Analytics (PostHog)
# ============================================================================

# PostHog API key for analytics
# Default: Uses built-in key (hardcoded in code for open source users)
# Override for custom PostHog instance:
# POSTHOG_API_KEY=your_posthog_key_here

# PostHog API endpoint
# Default: https://us.i.posthog.com (hardcoded fallback)
# Override for self-hosted PostHog:
# POSTHOG_API_ENDPOINT=https://posthog.yourdomain.com

# ============================================================================
# GitHub OAuth (Build-time Variables)
# ============================================================================

# These are set at BUILD time, not runtime
# They're compiled into the binary via build.rs
# To customize, set before building:

# GitHub App ID for OAuth
# GITHUB_APP_ID=your_github_app_id

# GitHub App Client ID for OAuth
# GITHUB_APP_CLIENT_ID=your_github_client_id

# ============================================================================
# Frontend Development (Vite)
# ============================================================================

# Frontend dev server port
# Only used when running `npm run dev` or `npm run frontend:dev`
# Default: 3000
#FRONTEND_PORT=3000

# Auto-open browser when starting frontend dev server
# Default: false
# VITE_OPEN=true

# ============================================================================
# Production Deployment Example
# ============================================================================

# HOST=0.0.0.0
# BACKEND_PORT=8887
# PUBLIC_BASE_URL=https://forge.yourdomain.com
# DISABLE_BROWSER_OPEN=true
# RUST_LOG=info
